module.exports=function(ilib){function AsyncNodeLoader(ilib){this.parent.call(this,ilib),this.root=process.cwd(),this.base="undefined"!=typeof module&&module.filename?path.join(path.dirname(module.filename),".."):this.root,this._exists(this.root,"resources"),this._exists(path.join(this.root,"locale"),"localeinfo.json"),this._exists(path.join(this.base,"locale"),"localeinfo.json"),this._exists("/usr/share/javascript/ilib/locale","localeinfo.json")}var path=require("./Path.js"),fs=require("fs"),Loader=(require("util"),require("./Loader.js"));return(AsyncNodeLoader.prototype=new Loader).parent=Loader,(AsyncNodeLoader.prototype.constructor=AsyncNodeLoader).prototype.name="AsyncNodeLoader",AsyncNodeLoader.prototype._loadFile=function(pathname,sync,cb){try{fs.readFile(pathname,"utf-8",function(err,text){"function"==typeof cb&&cb(err&&-2!==err.errno?void 0:text)})}catch(e){"function"==typeof cb&&cb()}},AsyncNodeLoader.prototype._exists=function(dir,file){file=path.normalize(path.join(dir,file));fs.existsSync(file)&&this.includePath.push(dir)},new AsyncNodeLoader(ilib)};